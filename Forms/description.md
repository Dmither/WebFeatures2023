# Forms

## Загальна інформація

Елемент `<form>` визначає форму, яка використовується для збору користувацького вводу. Використовується при необхідності зберігання і обробки користувацького вводу. Містить елементи форми.

### Атрибути форми

`action=""` - куди відправити (у: поточна сторінка).  
`method=""` - метод HTTP (у: GET / POST).  
GET для незахищених даних, зручно робити закладку результату,  
POST для конфіденційної інформації.  
`target=""` - спосіб відкриття результату (у: \_self):  
\- `_self` - в поточному вікні;  
\- `_blank` - в новій вкладці браузера;  
\- `_parent`, `_top` або ім'я iframe.  
`name` - назва для ідентифікації форми (в DOM: document.forms.name).  
`accept-charset` - використовувані символи (у: символи сторінки).  
`enctype` - кодування відправлених даних.  
`autocomplete` - чи є автозаповнення (у: так).  
`novalidate` - вказує, що браузер не повинен перевіряти форму.

### Елементи

`[name=""]` - обов'язковий атрибут для всіх елементів, без якого значення не буде передане в форму.

#### Input

Поле вводу, відображається залежно від `[type=""]`  
`[type=""]` визначає вигляд і функціонал:  
\- `"text"` - універсальне поле вводу інформації.  
Модифікації поля вводу, призначені для вевного типу інформації:  
`"email"`, `"password"`, `"tel"`, `"url"`, `"search"`, `"week"`,  
`"month"`, `"time"`, `"date"`, `"datetime-local"`, `"number"`,  
`"color"`, `"file"`, `"range"`.  
Мають свої обмеження, валідацію та допоміжні методи вводу.  
\- `"radio"` та `"checkbox"` - вибір одного (кількох) варіантів.  
\- `"button"`, `"reset"`, `"submit"` - аналоги відповідних кнопок.  
\- `"image"` - використовує зображення як кнопку (має src="").  
**Опціональні атрибути:**
`value=""` - значення за умовчуванням;  
`placeholder=""` - підказка очікуваного значення;  
`readonly` - не може бути змінене;  
`disabled` - поле відключене (але видиме);  
`checked` - попередньо обране при завантаженні (radio та checkbox);  
`required` - поле обов'язкове;  
`autocomplite` - автозаповнення поля;  
`autofocus` - автофокус при завантаженні форми;  
`form=""` - форма, якщо знаходиться за межами;  
`formaction=""`, `formenctype=""`, `formmethod=""`, `formmethod=""`,  
`formtarget=""` - перевизначають параметри форми (submit та image);  
`height=""`, `width=""` - висота та ширина зображення (image);  
`list=""` - задає посилання на id datalist;  
`multiple` - можливість вибору кількох варіантів (email, file);  
`size=""` - розмір поля в символах;  
`minlength=""` - мінімальна кількість символів;  
`maxlength=""` - максимальна кількість символів;  
`pattern=""` - регулярний вираз для перевірки;  
`min=""`, `max=""` - мін (макс) значення для поля;  
`step=""` - крок для поля вводу;  
`inputmode=""` - змінює екранну клавіатуру, але не поведінку (numeric - цифорва);  
`enterkeyhint=""` - змінює вигляд кнопки enter (next, done).

#### Select

Випадаючий список, елементи задаються `option`.  
`[size=""]` - кількість відображених варіантів.  
`[multiple]` - можливість вибору кількох варіантів.  
`[selected]` - варіант за умовчуванням.

#### Textarea

Текстова область, багаторядкове поле вводу.  
`[cols="30"]` та `[rows="10"]` визначають розмір в символах.  
Має сенс відключати можливість змінювати розмір за допомогою CSS resize.

#### Button

Кнопка, `[type=""]` визначає функціонал за умовчуванням.  
`"button"` - виконує заданий функціонал,  
`"reset"` - очищає форму до значень за умовчуванням,  
`"submit"` - відправляє форму на сервер.  
`[formaction=""]` - перевизначає action форми.  
`[formmethod=""]` - перевизначає method форми.

#### Допоміжні

`label` додає мітку по атрибуту `for="id"` до поля з id, фокусує при натисканні.  
`fieldset` групує пов'язані між собою елементи.  
`option` визначає варіант для select,  
`[value=""]` обов'язковий атрибут, передається в форму.  
`optgroup` визначає групу пов'язаних варіантів для select.  
`datalist` створює підказку при введенні з визначених варіантів,  
`[id=""]` дає можливість полю звертатися по атрибуту `list=""`.  
`output` визначає результат прорахунку.

## Найкращі практики

### Доступність

Призначення елемента має бути легко розпізнати. бажано додати до елемента label.  
Правильно використовувати семантичні елементи та тип, на сенсорних екранах від нього залежить відображення клавіатури.  
Краще використовувати одну колонку, це спрощує навігацію.  
Користувачі мають розуміти очікуваний формат введення даних.  
Елементи мають бути достатнього розміру з відступами між ними (дотик >48px).  
Показувати помилки заповнення, коли вони виникають та фокусувати на першій.  
Обов'язкові поля (required) або необов'язкові (optional) мають бути очевидними.

### Інтернаціоналізація

Додати атрибут lang до документу, переконатись, що працює з різними мовами.  
Переконатись, що всі елементи перекладаються.  
Переконатись, що форма працює з різними системами письма.  
Переконатись, що форма підтримує різні формати імен, адрес, тощо.

### Безпека

Переконатись, що запитані дані дійсно потрібні. Менше даних - менше ризик та відповідальність, простіше сприйняття.  
Завжди використовувати HTTPS для шифрування приватних даних.  
Використовувати метод POST для конфіденційних даних.  
Приділити багато уваги створенню системи автентифікації або використати сторонню.  
Користувачі мають знати про збережені дані, давати на них згоду, мати змогу переглядати, редагувати, видаляти їх.

### Автозаповнення

Автозаповнення відбувається браузером на основі атрибуту name.  
Для поля паролю при реєстрації autocomplete="new-password".  
Для поля паролю при авторизації autocomplete="current-password".  
Для поля одноразового коду autocomplete="one-time-code".  
Відключити автозаповнення autocomplete="off".

### Структурування

```html
<form>
	<fieldset>
		<legend>Fruit juice size</legend>
		<p>
			<input
				type="radio"
				name="size"
				id="size_1"
				value="small"
			/>
			<label for="size_1">Small</label>
		</p>
		<p>
			<input
				type="radio"
				name="size"
				id="size_2"
				value="medium"
			/>
			<label for="size_2">Medium</label>
		</p>
	</fieldset>
</form>
```

1. Ніколи не включати одну форму в іншу.
2. Елемент може бути поза формою, підключається атрибутом `form`.
3. Групуються елементи за допомогою `<fieldset>`
4. Підписати групу можна за допомогою `<legend>`, сприймається як частина міток `label` для елементів всередині.
5. `<label for="id">` описує елемент форми, який читається разом з пов'язаним елементом (може вказуватись всередині label). Клік також активує пов'язаний елемент. Бажано додати до кожного елемента.
6. Лейбл та елемент обернути в `<div>` або `<p>`.
7. Для структурування радіо та чекбоксів використати список

### Уникати атрибуту placeholder

`[placeholder=]` використовуєтсья як підказка щодо типу даних, формату заповнення, тощо. Ні в якому разі не варто використовувати як опис замість label (блокує допоміжні технології).  
Крім того має ряд проблем:  
\- неможливо автоматично перекласти;  
\- приховується під час введення (потрібно стирати для нагадування);  
\- недостатня контрастність за умовчуванням;  
\- може виглядати як попередньо заповнена інформація.  
Найкращім варіантом буде вертикальне розміщення мітки `label for=`, потім опису `p id=hint`, потім поле `input`. label прив'язаний за допомогою for, зв'язати опис з полем допоможе атрибут поля `[aria-describedby="hint"]`.  
https://www.smashingmagazine.com/2018/06/placeholder-attribute/

## CSS

input:required {} - псевдоелемент для обов'язкових полів.    
input:invalid {} - псевдоелемент для невалідних полів.  
input:user-invalid {} - псевдоелемент невалідного поля лише після взаємодії.  
accent-color: deeppink; - перефарбувати стандартні елементи в відповідний колір.  
appearance: none; - видалити стилі платформи (браузера).  

## JS

inputField.setCustomValidity("Show this message")
